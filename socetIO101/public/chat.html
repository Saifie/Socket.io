<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
  crossorigin="anonymous"
/>
<style>
  .xx {
    background-color: "red";
  }
</style>
<form id="form">
  <div class="row m-2">
    <div class="col-sm-9 m-1">
      <input class="form-control" id="mes" placeholder="Type Message.." />
    </div>
    <div class="col-sm-2 m-1">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </div>
</form>
<div class="card text-white bg-dark mb-3 m-4" style="width: 18rem">
  <ul id="ul" class="xx list-group list-group-flush">
    <div class="card-header">Message To anonymous</div>
  </ul>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
  const form = document.getElementById("form");
  const mes = document.getElementById("mes");
  const ul = document.getElementById("ul");

  var socket = io("http://localhost:3000", {
    transports: ["websocket", "polling", "flashsocket"],
  });
  socket.on("messageFromServer", (event) => {});
  form.addEventListener("submit", (e) => {
    e.preventDefault();
    socket.emit("messageToServer", { text: mes.value });
    mes.value = null;
  });
  socket.on("messageToEveryClient", (event) => {
    console.log(event.data);
    const newLi = document.createElement("li");
    newLi.setAttribute("class", "list-group-item");
    newLi.innerHTML += event.data;
    ul.appendChild(newLi);
  });
</script>
